#!/bin/bash

OUTPUT_FORMAT="cat"
while true; do
  case "$1" in
    --file-type | -T)
      FILE_TYPE=".$2" 
      shift 2
      ;;
    --output | -o)
      OUTPUT_FORMAT="$2" 
      shift 2
      ;;
      *)
      break
      ;;
  esac
done


TMP=$(mktemp --suffix="$FILE_TYPE");
echo -En "$(< /dev/stdin)" > $TMP

e $TMP > /dev/tty

if [ $OUTPUT_FORMAT = "filename" ]; then
  echo $TMP
else
  cat $TMP 
  rm -rf $TMP
fi

