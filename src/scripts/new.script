#!/bin/bash

cd ${scripts}

script_contents="\
#!/bin/bash



# vim: ft=sh";

script_name="${1:-"*untitled-script*"}"
emacsdclient-bg -ce '
(let ((buf (generate-new-buffer "'"${script_name}"'")))
  (switch-to-buffer buf)
  (insert "'"${script_contents}"'")
  (shell-script-mode)
  (goto-line 3))'

